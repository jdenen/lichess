* Lichess

Code and literate documentation for tracking Lichess progress (or lack thereof).

#+NAME: rapid
#+CALL: run(variant="rapid", user="beardedjohnson")

#+RESULTS: rapid
#+begin_src sh
1268.00 ┤
1262.27 ┤      ╭╮
1256.53 ┤      ││
1250.80 ┤      ││
1245.07 ┤╭╮    │╰
1239.33 ┤││   ╭╯
1233.60 ┤││   │
1227.87 ┤││   │
1222.13 ┤││   │
1216.40 ┤│╰╮╭─╯
1210.67 ┤│ ││
1204.93 ┤│ ││
1199.20 ┤│ ││
1193.47 ┤│ ╰╯
1187.73 ┤│
1182.00 ┼╯

#+end_src

#+NAME: puzzles
#+CALL: run(variant="puzzles", user="beardedjohnson")

#+RESULTS: puzzles
#+begin_src sh
1785.00 ┤
1770.13 ┤   ╭─╮
1755.27 ┤  ╭╯ │  ╭
1740.40 ┤ ╭╯  ╰╮ │
1725.53 ┤ │    ╰╮│
1710.67 ┤╭╯     ╰╯
1695.80 ┤│
1680.93 ┤│
1666.07 ┤│
1651.20 ┤│
1636.33 ┤│
1621.47 ┤│
1606.60 ┤│
1591.73 ┤│
1576.87 ┤│
1562.00 ┼╯

#+end_src

** Usage
*** Emacs
Use =C-c C-c= on each =#+CALL:= block in this file.

*** Terminal
Run this command in your terminal, where =$variant= is a game type like =rapid= or =kingofthehill=. Use your Lichess username in place of =$user=.

#+NAME: run
#+BEGIN_SRC sh :var variant="rapid" :var user="beardedjohnson" :eval yes :results output code
mix lichess.$variant $user
#+END_SRC
** Setup
Run in your terminal or execute this code block in Emacs:

#+NAME: setup
#+BEGIN_SRC sh :eval query :results silent
mix do deps.get, compile
#+END_SRC

A =LICHESS_API_TOKEN= environment variable /must/ be set at compile time.

I suggest using [[https://direnv.net/][direnv]] to set your =LICHESS_API_TOKEN= in this project only. The root =.envrc= file is ignored, so there's no risk of committing your token.
